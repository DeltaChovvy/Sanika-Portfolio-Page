@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-poppins: var(--font-poppins);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-poppins), Arial, Helvetica, sans-serif;
  overflow-x: hidden;
  overflow-y: auto;
  height: auto;
  min-height: 100vh;
}

* {
  font-family: var(--font-poppins), Arial, Helvetica, sans-serif;
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: 96px; /* Account for fixed navbar height */
  overflow-x: hidden;
  overflow-y: auto;
  height: 100%;
}

@media (max-width: 768px) {
  html {
    scroll-padding-top: 80px; /* Smaller navbar on mobile */
  }
  
  /* Fix mobile scroll blocking issues */
  body {
    position: relative;
    touch-action: pan-y pinch-zoom;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Ensure sections don't block scrolling */
  section {
    position: relative;
    overflow: visible;
  }
}

/* Smooth scroll reveal animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.scroll-reveal {
  animation: fadeInUp 1.2s ease-out forwards;
}

/* Mobile icon transition animation */
@keyframes fade-in-out {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  15% {
    opacity: 1;
    transform: scale(1);
  }
  35% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 0;
    transform: scale(0.9);
  }
}

.animate-fade-in-out {
  animation: fade-in-out 6s ease-in-out infinite;
}

/* Slow bounce animation for down arrow */
@keyframes slow-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
}

.animate-slow-bounce {
  animation: slow-bounce 2.5s ease-in-out infinite;
}

/* Custom styles */
.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Ensure crisp SVG rendering on all devices */
img[src$=".svg"] {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  image-rendering: -moz-crisp-edges;
  image-rendering: pixelated;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-font-smoothing: subpixel-antialiased;
  /* For SVGs with embedded bitmaps, use high quality scaling */
  -ms-interpolation-mode: bicubic;
}

/* Alternative: use smooth scaling for embedded raster images in SVGs */
@media only screen and (-webkit-min-device-pixel-ratio: 2),
       only screen and (min--moz-device-pixel-ratio: 2),
       only screen and (-o-min-device-pixel-ratio: 2/1),
       only screen and (min-device-pixel-ratio: 2),
       only screen and (min-resolution: 192dpi),
       only screen and (min-resolution: 2dppx) {
  img[src$=".svg"] {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: auto;
  }
}

/* Force hardware acceleration and prevent blur on transforms */
.transition-all,
.transition-transform,
[class*="translate"],
[class*="scale"] {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  perspective: 1000px;
  -webkit-perspective: 1000px;
}

/* Specifically target Next.js Image components containing SVGs */
img {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  -webkit-transform: translateZ(0) scale(1.0, 1.0);
  transform: translateZ(0);
}
